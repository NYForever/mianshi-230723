
# 面试资料整理


## java基础
#### [java基础](./1-jichu.md)

## 锁
#### [锁相关](./2-lock.md)

## 线程
#### [线程相关](./3-thread.md)

## 动态代理
#### [动态代理](./4-proxy.md)

## JVM虚拟机
#### [JVM虚拟机](./5-jvm.md)

## 数据库
#### [Mysql](./6-mysql.md)

#### [redis](./7-redis.md)

## 开源框架
### Spring
- 1.spring AOP是怎么实现的，怎么使用，
- 2.spring Bean的生命周期，循环依赖spring是怎么解决的

### Mybatis
- 1.看过源码吗？底层如何实现的？

## 中间件
### RocketMQ
- 1.事物消息的执行流程
- 2.如何实现顺序消费？一定要单消费者吗

### kafka
- 1.kafka是怎么保证高可用的，讲讲他的设计架构，为什么读写都在主分区，有什么优缺点
```
Kafka通过其设计架构和一些关键特性来保证高可用性。下面是关于Kafka高可用性的简要概述及其设计原则：

1. 分布式架构：Kafka采用分布式架构，允许在多个服务器或节点上部署多个副本。这样可以实现数据的冗余备份，以提供故障容错和高可用性。

2. 主从复制：Kafka使用主从复制的机制，将每个主题（Topic）的分区（Partition）复制到多个副本中。其中一个副本被指定为领导者（Leader），负责处理读写请求，而其他副本作为追随者（Follower）进行备份。

3. Leader-Follower同步：Kafka的领导者副本负责处理所有的读写请求，并将写入操作复制到追随者副本。追随者副本按照领导者副本的进度来进行数据同步，确保数据的一致性。只有当所有的追随者副本都成功同步数据后，才认为写入操作完成。

4. 分区负载均衡：每个主题可以被划分成多个分区，而每个分区只能有一个领导者副本。Kafka会自动进行分区负载均衡，将不同分区的领导者副本分布在不同的节点上，以实现负载均衡和高吞吐量。

读写都在主分区的优点和缺点如下：

优点：
- 简化设计：在单一的领导者副本上进行读写操作可以简化系统设计和实现。
- 减少数据复制：只需将写入操作复制到追随者副本即可，减少了无效的数据复制操作。
- 低延迟：由于读写操作只需要在一个副本上完成，所以具有较低的读写延迟。

缺点：
- 单点故障：如果主分区发生故障，整个分区将不可用，可能会影响系统的可用性。
- 读取瓶颈：所有的读取请求都必须通过主分区处理，可能导致主分区成为瓶颈，限制系统的读取吞吐量。
- 数据不一致：当主分区写入成功但尚未同步到所有追随者副本时，出现故障将导致数据不一致的情况。

总体而言，Kafka选择将读写操作集中在主分区是为了简化设计和降低延迟，并且利用主从复制机制来提供高可用性。然而，这种设计也带来了一些潜在的问题，如单点故障和读取瓶颈。为了解决这些问题，Kafka提供了故障转移机制和负载均衡策略，以实现更高级别的可用性和性能。
```
- 2.kafka的零拷贝怎么实现
- 3.kafka的reBalance raft算法
- 4.如何实现顺序消费？一定要单消费者吗
- 5.kafka用过吗，用的不多啊，rebalance说一下，就说一下是什么原理就行

### es
- 1.es的查询写入过程，底层实现，为什么这么设计
- 2.es集群脑裂问题，怎么产生的，怎么解决

### apollo
- 1.apollo的整体流程
```
Apollo 是一个开源的分布式配置中心，用于实现配置的集中管理和动态更新。下面是 Apollo 的整体流程：

1. 配置发布：
   - 开发人员使用 Apollo 提供的 Web 界面或 API 将配置发布到 Apollo 服务器上。
   - 发布过程会将配置存储在 Apollo 数据库中，并生成对应的配置文件。

2. 配置获取：
   - 应用程序通过 Apollo 客户端连接 Apollo 服务器，从服务器获取所需的配置信息。
   - 客户端可以根据需要指定获取的配置项、命名空间等信息。

3. 配置监听与更新：
   - Apollo 客户端在获取配置文件后会缓存在本地，并在启动时初始化配置。
   - 客户端通过长轮询或 WebSocket 等方式与 Apollo 服务器保持通信，实时监测配置变更。
   - 当配置发生变化时，Apollo 服务器会主动推送通知给客户端，客户端接收到通知后进行相应的更新操作。

4. 配置合并与生效：
   - Apollo 客户端在接收到配置更新通知后，将新的配置与本地缓存的配置进行合并。
   - 合并后的配置会覆盖原有的配置，使得配置变更生效。
   - 客户端可以根据自身需要选择何时更新配置，以最小化对业务的影响。

通过以上流程，Apollo 实现了配置的集中管理和动态更新。开发人员可以方便地使用 Apollo 进行配置的发布、获取和更新，而应用程序能够实时获取最新的配置信息，提高了配置管理的效率和灵活性。
```

### nacos&zk的区别是什么
- 1.nacos和zk的区别是什么
- 2.什么是CAP，为什么不能同时满足，redis是AP还是CP，nacos呢？zk呢？

## 算法
- 1.雪花算法
- 2.最长回文子串
- 3.LRU算法怎么实现

## Linux
- 1.cpu 100%怎么排查
- 2.linux大文件，怎么查看某一行的内容
> 要查看大文件中的某一行内容，可以使用以下方法：
> 
> 1. 使用`head`和`tail`命令组合：假设你要查看第1000行的内容，可以先使用`head`命令查看前1000行，然后再使用`tail`命令查看最后一行，即可得到第1000行的内容。
> 
> ```shell
> head -n 1000 filename | tail -n 1
> ```
> 
> 这个方法适用于较大的文件，因为它只需要读取文件的一部分内容。
> 
> 2. 使用`sed`命令：`sed`是一个流编辑器，在处理大文件时效率较高。通过使用`sed`命令的行定位功能，可以直接获取特定行号的内容。
> 
> ```shell
> sed -n '1000p' filename
> ```
> 
> 这个命令将输出文件中的第1000行内容。使用`-n`参数表示只输出匹配规则的行，`1000p`表示输出第1000行。
> 
> 3. 使用`awk`命令：类似于`sed`命令，`awk`也是一种强大的文本处理工具。可以使用`awk`命令来定位并输出指定行号的内容。
> 
> ```shell
> awk 'NR==1000' filename
> ```
> 
> 上述命令使用了`NR==1000`条件，表示只输出行号为1000的行。
> 
> 以上三种方法都能实现在大文件中查看指定行内容，根据个人喜好和需求选择适合的方法。
- 3.linux的常用命令有哪些

## 架构设计
- 1.高并发架构的设计思路
- 2.限流降级熔断的区别是什么

## 网络通讯
### grpc 

- 1.protobuf底层是什么样的
- 2.

### TCP
- 1.IP协议在哪一层
- 2.TCP中拥塞控制和流量控制的区别是什么
- 3.TCP和UDP的区别在哪
- 4.浏览器输入URL后，解析到页面渲染中间都发生了什么
- 5.两台服务器之间可以同时建立多条TCP链接吗，怎么实现的


## 思维拓展 & 问题实践
- 1.假如有10亿个手机号，怎么快速判断一个手机号是否在其中
- 2.如何设计一个hash函数
```
设计一��良好的哈希函数是一个复杂的任务，需要综合考虑多个因素。下面是一些常见的设计原则和技巧来设计一个好的哈希函数：

1. 均匀性：一个好的哈希函数应该尽可能地将输入数据均匀地分布到哈希值空间中，以减少冲突的概率。

2. 简单性：哈希函数应当简单且高效，以保证计算速度。

3. 一致性：对于相同的输入，哈希函数应始终返回相同的哈希值，确保数据的一致性。

4. 抗碰撞能力：哈希函数应尽量避免冲突，即不同的输入产生相同的哈希值的概率要低。

5. 扩展性：在哈希表等数据结构中，哈希函数应具有良好的扩展性，允许动态增加或删除元素而不引起大规模的哈希冲突。

6. 混淆性：哈希函数应具有较高的“混淆”能力，即使输入相差很小的情况下，其生成的哈希值也应该有较大的区别。

7. 随机性：在某些特定场景下，可以使用随机数来设计哈希函数，以增加抗碰撞能力。

8. 哈希函数的长度：哈希函数的返回值长度应根据实际需求确定。通常，较长的哈希值可以减少碰撞的概率，但会占用更多的存储空间和计算资源。

需要注意的是，设计一个完美的哈希函数往往是不可能的，因为它涉及到复杂的数学和算法问题。在实际应用中，可以根据具体场景和需求选择现有的哈希函数（如 MD5、SHA-1、CRC32等）或者根据以上原则自行设计。此外，还可以使用一些哈希函数生成器工具来辅助设计和评估哈希函数的性能和效果。
```